<template>
  <div class="popup-demo-page">
    <h1>ğŸ‰ One Button Popup Demo</h1>

    <!-- íŒì—… ì—´ê¸° ë²„íŠ¼ ê·¸ë£¹ -->
    <div class="btn-group">
      <CustomButton variant="primary" @click="openPopup('levelUp')">ë“±ê¸‰ì—… ì™„ë£Œ</CustomButton>
      <CustomButton variant="primary" @click="openPopup('attendance')">ì¶œì„ ì™„ë£Œ</CustomButton>
      <CustomButton variant="primary" @click="openPopup('reportComplete')">ì‹ ê³  ì™„ë£Œ</CustomButton>
    </div>

    <!-- ë“±ê¸‰ì—… ì™„ë£Œ íŒì—… -->
    <OneButtonCommonPopup
      v-model="popup.levelUp"
      title="ì¶•í•˜í•©ë‹ˆë‹¤!"
      subtitle="ìƒˆë¡œìš´ ë“±ê¸‰ìœ¼ë¡œ ìŠ¹ê¸‰í•˜ì…¨ìŠµë‹ˆë‹¤."
      image="/src/assets/images/level_up1_1.png"
      confirmText="í™•ì¸"
      confirmVariant="primary"
      :showCancel="false"
      @confirm="handleConfirm('ë“±ê¸‰ì—… ì™„ë£Œ')"
    />

    <!-- ì¶œì„ ì™„ë£Œ íŒì—… -->
    <OneButtonCommonPopup
      v-model="popup.attendance"
      title="ì¶œì„ ì™„ë£Œ"
      subtitle="ì˜¤ëŠ˜ë„ í•œ ê±¸ìŒ ì„±ì¥í–ˆì–´ìš”!"
      image="/src/assets/images/default_koala.png"
      confirmText="í™•ì¸"
      confirmVariant="primary"
      :showCancel="false"
      @confirm="handleConfirm('ì¶œì„ ì™„ë£Œ')"
    />

    <!-- ì‹ ê³  ì™„ë£Œ íŒì—… -->
    <OneButtonCommonPopup
      v-model="popup.reportComplete"
      title="ì‹ ê³  ì™„ë£Œ"
      subtitle="ê´€ë¦¬ìì—ê²Œ ì‹ ê³ ê°€ ì •ìƒì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤."
      image="/src/assets/images/report_koala2.png"
      confirmText="í™•ì¸"
      confirmVariant="primary"
      :showCancel="false"
      @confirm="handleConfirm('ì‹ ê³  ì™„ë£Œ')"
    />
  </div>
</template>

<script setup>
import { reactive } from 'vue'
import CustomButton from '@/components/common/CustomButton.vue'
import OneButtonCommonPopup from '@/components/common/OneButtonPopup.vue'

const popup = reactive({
  levelUp: false,
  attendance: false,
  reportComplete: false,
})

const openPopup = (key) => {
  popup[key] = true
}

const handleConfirm = (type) => {
  console.log(`[í™•ì¸ í´ë¦­ë¨]: ${type}`)
  popup[type] = false
}
</script>

<style scoped>
.popup-demo-page {
  padding: 40px;
  text-align: center;
}

.btn-group {
  display: flex;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}
</style>
